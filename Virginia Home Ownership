# Checking for necessary packages
library("dplyr")
library("corrplot")


#Pulling in data from downloaded csv's
#Data was obtained from Federal Reserve Economic Data as well as Census.gov data


#Annual Percentage of Virginia Residents who own homes
VA_Homes <- read.csv("C:/Users/lilni/OneDrive - Mount St. Mary's University/Desktop/FRED Data Science/VA_Home_Owner.csv")
#Annual Percentage of Virginia Employed and Unemployed workers divided against State's Civilian Population
VA_Labor <- read.csv("C:/Users/lilni/OneDrive - Mount St. Mary's University/Desktop/FRED Data Science/VA_Labor_Force.csv")
#Annual Percentage of 18+ Virginia Residents with Bachelor's Degree or higher
VA_Education <- read.csv("C:/Users/lilni/OneDrive - Mount St. Mary's University/Desktop/FRED Data Science/VA_Education.csv")
# Annual Unemployment Percentage in Virginia
VA_Unemployment <- read.csv("")
# Annual Unemployment Percentage in DC
DC_Unemployment <- read.csv("")
# Annual Percentage of DC Employed and Unemployed workers divided against state's Civilian Population
DC_Labor <- read.csv("")

#Merge the data into one table
Merge_Data <- VA_Homes %>%
  inner_join(VA_Labor, by = "DATE") %>%
  inner_join(VA_Education, by = "DATE")

#Change column names for better legibility
Raw_Variables <- Merge_Data %>% rename(VA_Home = VAHOWN, VA_Labor = LBSSA51, VA_Educate = GCT1502VA)

#Create table for variables without the DATE column and change to numeric 
Variables <- Raw_Variables %>%
  select(VA_Home, VA_Labor, VA_Educate)

Variables <- Variables %>%
  mutate(
    VA_Home = as.numeric(VA_Home),
    VA_Labor = as.numeric(VA_Labor),
    VA_Educate = as.numeric(VA_Educate)
  )

#Create and print the correlation matrix
Correlation_Matrix <- cor(Variables)
print(Correlation_Matrix)
